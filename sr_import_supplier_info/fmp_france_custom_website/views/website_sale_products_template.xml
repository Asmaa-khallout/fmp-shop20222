<odoo>
    <template id="custom_products_template" inherit_id="website_sale.products" priority="16">
        <xpath expr="//div[@id='wrap']" position="after">

                        <style>
                #products_grid .card{
                border-radius: 33px !important;

                }
                #products_grid .product_price .h6{
                font-weight: bold !important;
                font-size: 18px;
                letter-spacing: 0px;
                color: #F70000 !important ;
                text-align: center;
                 }
               .oe_product_cart.tp-product-card-style-2 .o_wsale_product_btn .btn {
                transform: scale(1);
                opacity: 1;
                }
               @media (min-width: 992px) {
               .pos-btn{
                position: absolute !important;
                right: -12% !important;
                bottom: 3% !important;
                }
                }

              .form-control.quantity.text-center{
                border: 1px solid #CED4DA;
                }

                              .custom_cart .btn{
              box-shadow: 0 0.125rem 0.25rem rgb(0 0 0 / 8%);
              margin: 0.5rem 0.2rem;
              border-radius: 50rem;
              padding: 0;
              height: 46px;
              width: 46px;
              line-height: 46px;
              text-align: center;
                 }
                      .css_quantity{
              display:flex;
              justify-content: center;
              border:none !important;
              }
              .custom_quantity .input-group-prepend .btn {
              border: 1px solid #CED4DA;
              border-top-left-radius: 19px;
              border-bottom-left-radius: 19px;
              }
              .custom_quantity .input-group-append .btn {
              border: 1px solid #CED4DA;
              border-top-right-radius: 19px !important;
              border-bottom-right-radius: 19px !important;
              }
              .js_quantity.form-control.quantity{
              border: 1px solid #CED4DA;
              }
              .o_wsale_product_btn{
              bottom: unset !important;
              }
               .btn.btn-secondary.a-submit:hover{
                background: #274B95 !important;
                border-color:#274B95 !important;
                color: white !important;
               }
               .custom_quantity.btn:hover{
               color: white !important;
               }
               #wsale_products_categories_collapse label{
                font-weight: 500 !important;
               }
               .css_quantity .btn:hover {
                background-color: #E4E4E4 !important;
                color: #FFFFFF;
              }
              .o_wsale_apply_layout{
              display:none !important;
              }
            </style>
    </xpath>
    </template>
    <template id="custom_products_item" inherit_id="theme_prime.product_item_2" >
           <xpath expr="//form[hasclass('oe_product_cart')]" position="replace">
        <form action="/shop/cart/update" method="post" class="card oe_product_cart tp-product-card-style-2" t-att-data-publish="product.website_published and 'on' or 'off'" itemscope="itemscope" itemtype="http://schema.org/Product">
            <div class="card-body p-0 oe_product_image">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                <a t-att-href="product_href" class="d-block h-100" itemprop="url">
                    <t t-set="image_holder" t-value="product._get_image_holder()"/>
                    <span t-field="image_holder.image_1920" t-options="{'widget': 'image', 'preview_image': 'image_1024' if product_image_big else 'image_512'}" class="d-flex h-100 justify-content-center align-items-center tp-product-image-container"/>
                </a>
                <button t-if="website._get_dr_theme_config('json_grid_product')['show_similar_products'] and product.alternative_product_ids" type="button" role="button" class="btn btn btn-outline-secondary rounded-circle tp_show_similar_products tp-product-view-similar-btn" title="View Similar" t-att-data-product-template-id="product.id">
                    <i class="fa fa-clone" role="img" aria-label="View Similar"/>
                </button>
                <button t-if="website._get_dr_theme_config('json_grid_product')['show_quick_view']" type="button" role="button" class="btn btn-primary rounded-circle font-weight-bold py-2 tp-product-quick-view-action tp-product-quick-view-large-btn text-truncate" title="Quick View" t-att-data-product-id="product.id">
                    <i class="dri dri-eye mr-1 o_not_editable" role="img" aria-label="Quick View"/> Quick View
                </button>
                <t t-if="website._get_dr_theme_config('json_grid_product')['show_color_preview']">
                    <t t-set="product_colors" t-value="product._get_product_colors()"/>
                    <div t-if="len(product_colors)" class="tp-product-color-preview d-none d-lg-block" t-attf-title="#{len(product_colors)} Color Variants">
                        <div class="tp-product-color-preview-icon d-flex align-items-center">
                            <div class="left-color" t-attf-style="background-color: #{product_colors[0]}"/>
                            <div class="right-color" t-attf-style="background-color: #{product_colors[1]}"/>
                            <span class="ml-1 text-body" t-out="len(product_colors)"/>
                        </div>
                    </div>
                </t>
            </div>
            <div class="card-body rounded-bottom p-0 o_wsale_product_information">
                <div class="p-2 o_wsale_product_information_text">
                    <h6 class="o_wsale_products_item_title mb-1 text-center text-truncate" style="width: 100%; table-layout: fixed; display: table !important;">
                        <a class="tp-link-dark d-block text-truncate" t-att-title="product.name" itemprop="name" t-att-href="product_href" t-att-content="product.name" t-field="product.name"/>
                        <a role="button" t-if="not product.website_published" t-att-href="product_href" class="btn btn-sm btn-danger" title="This product is unpublished.">Unpublished</a>
                    </h6>
                    <div class="product_price text-center" itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer" t-if="user_id.partner_id.activation_state=='active'" >
                        <span class="h6 text-primary" t-if="combination_info['price']" t-out="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                        <small t-attf-class="text-body ml-1 {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="text-decoration: line-through; white-space: nowrap;" t-out="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                        <span itemprop="price" style="display:none;" t-out="combination_info['price']"/>
                        <span itemprop="priceCurrency" style="display:none;" t-out="website.currency_id.name"/>
                        <t t-call="theme_prime.discount_percentage"/>
                    </div>
                    <div t-if="is_view_active('website_sale.products_description')" class="oe_subdescription" contenteditable="false">
                        <div itemprop="description" t-field="product.description_sale"/>
                    </div>
                    <t t-if="is_view_active('website_sale.product_comment') and website._get_dr_theme_config('json_grid_product')['show_rating']">
                        <t t-set="rating_stats" t-value="product.sudo().rating_get_stats()"/>
                        <div t-if="rating_stats['total']" class="o_website_rating_static d-none d-lg-inline-block o_not_editable" t-att-data-rating="rating_stats['avg']" t-attf-title="#{rating_stats['total']} Reviews">
                            <i class="fa fa-star"/>
                            <span class="ml-1 text-body" t-out="'%.1f' % rating_stats['avg']"/>
                        </div>
                    </t>

                </div>


                <!--- test -->
                <div class="container">
                <div class="row">
                 <div class="col-12 text-center text-lg-left" t-if="user_id.partner_id.activation_state=='active'">
                                <div  class="css_quantity ml-lg-3 custom_quantity input-group mb-3 mt-1 w-75 mx-auto" contenteditable="false">
                                <div class="input-group-prepend">
                                    <a t-attf-href="#" class="btn text-primary btn-light  js_add_cart_json" aria-label="Remove one" title="Remove one">
                                        <i class="fa fa-minus pt-1"/>
                                    </a>
                                </div>
<!--                                <input type="text" class="form-control quantity" data-min="1" name="add_qty" />-->
                                 <input type="text" class="form-control quantity text-center" data-min="1" name="add_qty" id="input_qty_list" t-att-value="1" t-att-data-min="1" t-att-data-setqty="1" />

                                <div class="input-group-append">
                                    <a t-attf-href="#" class="btn text-primary btn-light float_left js_add_cart_json" aria-label="Add one" title="Add one">
                                        <i class="fa fa-plus pt-1"/>
                                    </a>

                                </div>
                            </div>
                    </div>
                    <div class="col-12 col-lg-6 pos-btn text-center text-lg-left">
                       <div class="o_wsale_product_btn text-center o_not_editable custom_cart position-relative">
                    <button t-if="website._get_dr_theme_config('json_grid_product')['show_quick_view']" type="button" role="button" class="btn btn-secondary tp-product-quick-view-action tp-product-quick-view-small-btn" title="Quick View" t-att-data-product-id="product.id">
                        <i class="dri dri-eye" role="img" aria-label="Quick View"/>
                    </button>
                    <button t-if="website._get_dr_theme_config('json_grid_product')['show_similar_products'] and product.alternative_product_ids" type="button" role="button" class="btn btn-secondary tp_show_similar_products tp-product-view-similar-list-btn" title="View Similar" t-att-data-product-template-id="product.id">
                        <i class="fa fa-clone" role="img" aria-label="View Similar"/>
                    </button>
                    <t t-set="in_wish" t-value="product._is_in_wishlist()"/>
                    <t t-set="product_variant_id" t-value="product._get_first_possible_variant_id()"/>
                    <t t-if="is_view_active('website_sale.products_add_to_cart') and user_id.partner_id.activation_state=='active'">
                        <input name="product_id" t-att-value="product_variant_id" type="hidden"/>
                        <t t-if="product_variant_id">
                            <a href="#" role="button" class="btn btn-secondary a-submit" aria-label="Shopping cart" title="Shopping cart">
                                <span class="dri dri-cart"/>
                            </a>
                        </t>
                    </t>
                    <button t-if="is_view_active('website_sale_wishlist.add_to_wishlist') and product_variant_id" type="button" role="button" class="btn btn-secondary o_add_wishlist" t-att-disabled="in_wish or None" title="Add to Wishlist" t-att-data-product-template-id="product.id" t-att-data-product-product-id="product_variant_id" data-action="o_wishlist"><span class="dri dri-wishlist" role="img" aria-label="Add to wishlist"/></button>
                    <button t-if="is_view_active('website_sale_comparison.add_to_compare') and product_variant_id" type="button" role="button" class="d-none d-md-inline-block btn btn-secondary o_add_compare" title="Compare" aria-label="Compare" t-att-data-product-product-id="product_variant_id" data-action="o_comparelist"><span class="dri dri-compare"/></button>
                </div>
                    </div>
                </div>
                </div>

                <!-- end test -->


            </div>
            <t t-call="theme_prime.product_label">
                <t t-set="label" t-value="product.dr_label_id"/>
            </t>
            <t t-set="bg_color" t-value="td_product['ribbon']['bg_color'] or ''"/>
            <t t-set="text_color" t-value="td_product['ribbon']['text_color']"/>
            <t t-set="bg_class" t-value="td_product['ribbon']['html_class']"/>
            <span t-attf-class="o_ribbon #{bg_class}" t-attf-style="#{text_color and ('color: %s; ' % text_color)}#{bg_color and 'background-color:' + bg_color}" t-out="td_product['ribbon']['html'] or ''"/>
        </form>
           </xpath>
    </template>


</odoo>